/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package org.aml.vm.library.aml.base

import com.google.common.truth.Truth.assertThat
import org.aml.vm.library.system.io.StringSourcePort
import kotlin.test.Test

class AmlBaseLangReaderTest {

    @Test
    fun testRootReaderCanIgnoreShebangComment() {
        val rootReader = Lang.Reader()
        val result = rootReader.readSyntax(null, StringSourcePort("#!/usb/bin/env aml\n", "string"))
        assertThat(result)
            .isNotNull()
        assertThat(result.isLeft())
            .isTrue()
    }

    @Test
    fun testRootReaderCanDispatchReaderSwitch() {
        val rootReader = Lang.Reader()
        val result = rootReader.readSyntax(null, StringSourcePort("#reader \"test-reader\"\n", "string"))
        assertThat(result)
            .isNotNull()
    }

}
